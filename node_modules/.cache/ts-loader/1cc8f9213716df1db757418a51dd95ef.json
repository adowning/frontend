{"remainingRequest":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js!/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js??ref--14-2!/home/ash/Documents/cloudrun/second/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/ash/Documents/cloudrun/second/frontend/src/hooks/useClipboard.ts","dependencies":[{"path":"/home/ash/Documents/cloudrun/second/frontend/src/hooks/useClipboard.ts","mtime":1601932087349},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2FzaC9Eb2N1bWVudHMvY2xvdWRydW4vc2Vjb25kL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgcmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwoKdmFyIGNvcHlUb0NsaXBib2FyZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodGV4dCkgewogICAgdmFyIHNwYW4sIHNlbGVjdGlvbiwgcmFuZ2UsIHN1Y2Nlc3M7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghbmF2aWdhdG9yLmNsaXBib2FyZCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCkpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDU7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwICE9PSB1bmRlZmluZWQgPyBfY29udGV4dC50MCA6IG5ldyBET01FeGNlcHRpb24oJ1RoZSByZXF1ZXN0IGlzIG5vdCBhbGxvd2VkJywgJ05vdEFsbG93ZWRFcnJvcicpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgICAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IHRleHQ7CiAgICAgICAgICAgIHNwYW4uc3R5bGUud2hpdGVTcGFjZSA9ICdwcmUnOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgICAgICBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7CiAgICAgICAgICAgIHJhbmdlID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7CiAgICAgICAgICAgIHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7CiAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGUoc3Bhbik7CiAgICAgICAgICAgIHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpOwogICAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHN1Y2Nlc3MgPSB3aW5kb3cuZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpOwogICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzcGFuKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgc3VjY2VzcyA/IFByb21pc2UucmVzb2x2ZSgpIDogUHJvbWlzZS5yZWplY3QobmV3IERPTUV4Y2VwdGlvbignVGhlIHJlcXVlc3QgaXMgbm90IGFsbG93ZWQnLCAnTm90QWxsb3dlZEVycm9yJykpKTsKCiAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgNV1dKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiBjb3B5VG9DbGlwYm9hcmQoX3gpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwoKZXhwb3J0IHZhciB1c2VDbGlwYm9hcmQgPSBmdW5jdGlvbiB1c2VDbGlwYm9hcmQoKSB7CiAgdmFyIGNsaXBib2FyZCA9IHJlZihudWxsKTsKCiAgdmFyIHNldENsaXBib2FyZCA9IGZ1bmN0aW9uIHNldENsaXBib2FyZCh0ZXh0KSB7CiAgICBjbGlwYm9hcmQudmFsdWUgPSB0ZXh0OwogICAgcmV0dXJuIGNvcHlUb0NsaXBib2FyZCh0ZXh0KTsKICB9OwoKICByZXR1cm4gW2NsaXBib2FyZCwgc2V0Q2xpcGJvYXJkXTsKfTs="},{"version":3,"sources":["/home/ash/Documents/cloudrun/second/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/ash/Documents/cloudrun/second/frontend/src/hooks/useClipboard.ts"],"names":[],"mappings":";;;AAAA,SAAS,GAAT,QAAyB,sBAAzB;;AAEA,IAAM,eAAe;AAAA,qEAAG,iBAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAClB,SAAS,CAAC,SADQ;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAGX,SAAS,CAAC,SAAV,CAAoB,SAApB,CAA8B,IAA9B,CAHW;;AAAA;AAAA;AAAA;AAAA,kBAKZ,gBAAQ,SAAR,iBAEF,IAAI,YAAJ,CAAiB,4BAAjB,EAA+C,iBAA/C,CAPc;;AAAA;AAWhB,YAAA,IAXgB,GAWT,QAAQ,CAAC,aAAT,CAAuB,MAAvB,CAXS;AAYtB,YAAA,IAAI,CAAC,WAAL,GAAmB,IAAnB;AACA,YAAA,IAAI,CAAC,KAAL,CAAW,UAAX,GAAwB,KAAxB;AACA,YAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,IAA1B;AAEM,YAAA,SAhBgB,GAgBJ,MAAM,CAAC,YAAP,EAhBI;AAiBhB,YAAA,KAjBgB,GAiBR,MAAM,CAAC,QAAP,CAAgB,WAAhB,EAjBQ;AAkBtB,YAAA,SAAS,IAAI,SAAS,CAAC,eAAV,EAAb;AACA,YAAA,KAAK,CAAC,UAAN,CAAiB,IAAjB;AACA,YAAA,SAAS,IAAI,SAAS,CAAC,QAAV,CAAmB,KAAnB,CAAb;AAEI,YAAA,OAtBkB,GAsBR,KAtBQ;;AAuBtB,gBAAI;AACF,cAAA,OAAO,GAAG,MAAM,CAAC,QAAP,CAAgB,WAAhB,CAA4B,MAA5B,CAAV;AACD,aAFD,CAEE,OAAO,GAAP,EAAY;AACZ,cAAA,OAAO,CAAC,KAAR,CAAc,GAAd;AACD;;AAED,YAAA,SAAS,IAAI,SAAS,CAAC,eAAV,EAAb;AACA,YAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,CAAqB,WAArB,CAAiC,IAAjC;AA9BsB,6CAgCf,OAAO,GACV,OAAO,CAAC,OAAR,EADU,GAEV,OAAO,CAAC,MAAR,CACE,IAAI,YAAJ,CAAiB,4BAAjB,EAA+C,iBAA/C,CADF,CAlCkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAf,eAAe;AAAA;AAAA;AAAA,GAArB;;AAuCA,OAAO,IAAM,YAAY,GAAG,SAAf,YAAe,GAGxB;AACF,MAAM,SAAS,GAAG,GAAG,CAAS,IAAT,CAArB;;AAEA,MAAM,YAAY,GAAG,SAAf,YAAe,CAAC,IAAD,EAAiB;AACpC,IAAA,SAAS,CAAC,KAAV,GAAkB,IAAlB;AACA,WAAO,eAAe,CAAC,IAAD,CAAtB;AACD,GAHD;;AAKA,SAAO,CAAC,SAAD,EAAY,YAAZ,CAAP;AACD,CAZM","sourcesContent":["import { ref, Ref } from '@vue/composition-api'\n\nconst copyToClipboard = async (text: string) => {\n  if (navigator.clipboard) {\n    try {\n      return navigator.clipboard.writeText(text)\n    } catch (err) {\n      throw err !== undefined\n        ? err\n        : new DOMException('The request is not allowed', 'NotAllowedError')\n    }\n  }\n\n  const span = document.createElement('span')\n  span.textContent = text\n  span.style.whiteSpace = 'pre'\n  document.body.appendChild(span)\n\n  const selection = window.getSelection()\n  const range = window.document.createRange()\n  selection && selection.removeAllRanges()\n  range.selectNode(span)\n  selection && selection.addRange(range)\n\n  let success = false\n  try {\n    success = window.document.execCommand('copy')\n  } catch (err) {\n    console.error(err)\n  }\n\n  selection && selection.removeAllRanges()\n  window.document.body.removeChild(span)\n\n  return success\n    ? Promise.resolve()\n    : Promise.reject(\n        new DOMException('The request is not allowed', 'NotAllowedError')\n      )\n}\n\nexport const useClipboard = (): [\n  Ref<string | null>,\n  (text: string) => Promise<void>\n] => {\n  const clipboard = ref<string>(null)\n\n  const setClipboard = (text: string) => {\n    clipboard.value = text\n    return copyToClipboard(text)\n  }\n\n  return [clipboard, setClipboard]\n}\n"],"sourceRoot":""}]}