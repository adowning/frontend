{"remainingRequest":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js!/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js??ref--14-2!/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Workorder/WorkorderDetails/WorkorderDetails.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Workorder/WorkorderDetails/WorkorderDetails.vue","mtime":1601935599674},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9hc2gvRG9jdW1lbnRzL2Nsb3VkcnVuL3NlY29uZC9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2FzaC9Eb2N1bWVudHMvY2xvdWRydW4vc2Vjb25kL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL2FzaC9Eb2N1bWVudHMvY2xvdWRydW4vc2Vjb25kL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKCi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi8KaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYsIGNvbXB1dGVkLCBvblVubW91bnRlZCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHsgdXNlQ2xpcGJvYXJkIH0gZnJvbSAnQC9ob29rcy91c2VDbGlwYm9hcmQnOwppbXBvcnQgeyB1c2VRdWVyeSwgdXNlTXV0YXRpb24gfSBmcm9tICdAdnVlL2Fwb2xsby1jb21wb3NhYmxlJzsKaW1wb3J0IHsgZ2V0V29ya29yZGVyV2l0aFVzZXJzQW5kQ29tbWVudHMsIGRlbGV0ZVdvcmtvcmRlciwgZ2V0UHJvamVjdFdvcmtvcmRlcnMsIHVwZGF0ZVdvcmtvcmRlck11dGF0aW9uIH0gZnJvbSAnQC9ncmFwaHFsL3F1ZXJpZXMvd29ya29yZGVyJzsKaW1wb3J0IFdvcmtvcmRlckxvYWRlciBmcm9tICdAL2NvbXBvbmVudHMvUHJvamVjdC9Xb3Jrb3JkZXJMb2FkZXIudnVlJzsKaW1wb3J0IENvbW1lbnQgZnJvbSAnLi9Db21tZW50LnZ1ZSc7CmltcG9ydCBXb3Jrb3JkZXJEZXNjcmlwdGlvbiBmcm9tICcuL0Rlc2NyaXB0aW9uLnZ1ZSc7CmltcG9ydCBXb3Jrb3JkZXJUaXRsZSBmcm9tICcuL1RpdGxlLnZ1ZSc7CmltcG9ydCBXb3Jrb3JkZXJUeXBlIGZyb20gJy4vVHlwZS52dWUnOwppbXBvcnQgV29ya29yZGVyU3RhdHVzIGZyb20gJy4vU3RhdHVzLnZ1ZSc7CmltcG9ydCBXb3Jrb3JkZXJBc3NpZ25lZXNSZXBvcnRlciBmcm9tICcuL0Fzc2lnbmVlc1JlcG9ydGVyLnZ1ZSc7CmltcG9ydCBXb3Jrb3JkZXJQcmlvcml0eSBmcm9tICcuL1ByaW9yaXR5LnZ1ZSc7CmltcG9ydCB7IGZvcm1hdERhdGVUaW1lQ29udmVyc2F0aW9uYWwgfSBmcm9tICdAL3V0aWxzL2RhdGUnOwppbXBvcnQgeyBnZXR0ZXJzLCBtdXRhdGlvbnMgfSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IGV2ZW50QnVzIGZyb20gJ0AvdXRpbHMvZXZlbnRCdXMnOwppbXBvcnQgeyBkZWxldGVDb21tZW50IH0gZnJvbSAnQC9ncmFwaHFsL3F1ZXJpZXMvY29tbWVudCc7CmltcG9ydCB7IHVwZGF0ZUFycmF5SXRlbUJ5SWQgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9kbmQnOwoKdmFyIHNvcnRCeU5ld2VzdCA9IGZ1bmN0aW9uIHNvcnRCeU5ld2VzdCgpIHsKICB2YXIgaXRlbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogIHZhciBzb3J0RmllbGQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICByZXR1cm4gaXRlbXMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIC1hW3NvcnRGaWVsZF0ubG9jYWxlQ29tcGFyZShiW3NvcnRGaWVsZF0pOwogIH0pOwp9OwoKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBXb3Jrb3JkZXJMb2FkZXI6IFdvcmtvcmRlckxvYWRlciwKICAgIENvbW1lbnQ6IENvbW1lbnQsCiAgICBXb3Jrb3JkZXJEZXNjcmlwdGlvbjogV29ya29yZGVyRGVzY3JpcHRpb24sCiAgICBXb3Jrb3JkZXJUaXRsZTogV29ya29yZGVyVGl0bGUsCiAgICBXb3Jrb3JkZXJUeXBlOiBXb3Jrb3JkZXJUeXBlLAogICAgV29ya29yZGVyU3RhdHVzOiBXb3Jrb3JkZXJTdGF0dXMsCiAgICBXb3Jrb3JkZXJBc3NpZ25lZXNSZXBvcnRlcjogV29ya29yZGVyQXNzaWduZWVzUmVwb3J0ZXIsCiAgICBXb3Jrb3JkZXJQcmlvcml0eTogV29ya29yZGVyUHJpb3JpdHkKICB9LAogIHByb3BzOiB7CiAgICB3b3Jrb3JkZXJJZDogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHdpdGhDbG9zZUJ1dHRvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgd2l0aEZ1bGxTY3JlZW5CdXR0b246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCwKICAgICAgICBlbWl0ID0gX3JlZi5lbWl0OwogICAgdmFyIHdvcmtvcmRlckNvcHkgPSByZWYobnVsbCk7CiAgICB2YXIgcHJvamVjdCA9IGNvbXB1dGVkKGdldHRlcnMucHJvamVjdCk7CiAgICB2YXIgY3VycmVudFVzZXIgPSBjb21wdXRlZChnZXR0ZXJzLmN1cnJlbnRVc2VyKTsKCiAgICB2YXIgX3VzZVF1ZXJ5ID0gdXNlUXVlcnkoZ2V0V29ya29yZGVyV2l0aFVzZXJzQW5kQ29tbWVudHMsIHsKICAgICAgaWQ6IE51bWJlcihwcm9wcy53b3Jrb3JkZXJJZCkKICAgIH0pLAogICAgICAgIG9uUmVzdWx0ID0gX3VzZVF1ZXJ5Lm9uUmVzdWx0LAogICAgICAgIGxvYWRpbmcgPSBfdXNlUXVlcnkubG9hZGluZywKICAgICAgICByZWZldGNoV29ya29yZGVyID0gX3VzZVF1ZXJ5LnJlZmV0Y2g7CgogICAgb25SZXN1bHQoZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzICYmIHJlcy5kYXRhICYmICFyZXMubG9hZGluZykgewogICAgICAgIHdvcmtvcmRlckNvcHkudmFsdWUgPSByZXMuZGF0YS5nZXRXb3Jrb3JkZXJXaXRoVXNlcnNBbmRDb21tZW50czsKICAgICAgfQogICAgfSk7CiAgICB2YXIgY29tbWVudHNTb3J0ZWQgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghd29ya29yZGVyQ29weS52YWx1ZSkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNvcnRCeU5ld2VzdCh3b3Jrb3JkZXJDb3B5LnZhbHVlLmNvbW1lbnRzLCAnY3JlYXRlZEF0Jyk7CiAgICB9KTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycwoKICAgIHZhciBfdXNlQ2xpcGJvYXJkID0gdXNlQ2xpcGJvYXJkKCksCiAgICAgICAgX3VzZUNsaXBib2FyZDIgPSBfc2xpY2VkVG9BcnJheShfdXNlQ2xpcGJvYXJkLCAyKSwKICAgICAgICBfID0gX3VzZUNsaXBib2FyZDJbMF0sCiAgICAgICAgc2V0Q2xpcGJvYXJkID0gX3VzZUNsaXBib2FyZDJbMV07CgogICAgdmFyIGNvcHlXb3Jrb3JkZXJMaW5rID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwYXRoOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhdGggPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgcm9vdC4kcm91dGVyLnJlc29sdmUoewogICAgICAgICAgICAgICAgICBuYW1lOiAnd29ya29yZGVyJywKICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgd29ya29yZGVySWQ6ICIiLmNvbmNhdChwcm9wcy53b3Jrb3JkZXJJZCkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuaHJlZjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHNldENsaXBib2FyZChwYXRoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBjb3B5V29ya29yZGVyTGluaygpIHsKICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICB2YXIgZ29GdWxsU2NyZWVuID0gZnVuY3Rpb24gZ29GdWxsU2NyZWVuKCkgewogICAgICByb290LiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ3dvcmtvcmRlcicsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICB3b3Jrb3JkZXJJZDogIiIuY29uY2F0KHByb3BzLndvcmtvcmRlcklkKQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGVtaXQoJ2Nsb3NlJyk7CiAgICB9OwoKICAgIHZhciBfdXNlTXV0YXRpb24gPSB1c2VNdXRhdGlvbih1cGRhdGVXb3Jrb3JkZXJNdXRhdGlvbiksCiAgICAgICAgbXV0YXRlV29ya29yZGVyID0gX3VzZU11dGF0aW9uLm11dGF0ZTsKCiAgICB2YXIgaGFuZGxlVXBkYXRlV29ya29yZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihmaWVsZHMpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgd29ya29yZGVyQ29weS52YWx1ZSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgd29ya29yZGVyQ29weS52YWx1ZSksIGZpZWxkcyk7CiAgICAgICAgICAgICAgICBtdXRhdGlvbnMuc2V0UHJvamVjdChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHByb2plY3QudmFsdWUpLCB7fSwgewogICAgICAgICAgICAgICAgICB3b3Jrb3JkZXJzOiB1cGRhdGVBcnJheUl0ZW1CeUlkKHByb2plY3QudmFsdWUud29ya29yZGVycywgcHJvcHMud29ya29yZGVySWQsIGZpZWxkcykKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBtdXRhdGVXb3Jrb3JkZXIoewogICAgICAgICAgICAgICAgICB3b3Jrb3JkZXJJZDogTnVtYmVyKHByb3BzLndvcmtvcmRlcklkKSwKICAgICAgICAgICAgICAgICAgd29ya29yZGVyOiBfb2JqZWN0U3ByZWFkKHt9LCBmaWVsZHMpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlZmV0Y2hXb3Jrb3JkZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZVdvcmtvcmRlcihfeCkgewogICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBfdXNlTXV0YXRpb24yID0gdXNlTXV0YXRpb24oZGVsZXRlV29ya29yZGVyKSwKICAgICAgICBtdXRhdGUgPSBfdXNlTXV0YXRpb24yLm11dGF0ZTsKCiAgICB2YXIgX3VzZVF1ZXJ5MiA9IHVzZVF1ZXJ5KGdldFByb2plY3RXb3Jrb3JkZXJzKSwKICAgICAgICBmZXRjaFByb2plY3RXb3Jrb3JkZXJzID0gX3VzZVF1ZXJ5Mi5yZWZldGNoOwogICAgLyogLS0tLS0tLS0gRGVsZXRlIFdvcmtvcmRlciAtLS0tLS0tLSAqLwoKCiAgICB2YXIgaXNEZWxldGVDb25maXJtT3BlbiA9IHJlZihmYWxzZSk7CgogICAgdmFyIHRyaWdnZXJXb3Jrb3JkZXJEZWxldGUgPSBmdW5jdGlvbiB0cmlnZ2VyV29ya29yZGVyRGVsZXRlKCkgewogICAgICBldmVudEJ1cy4kZW1pdCgndG9nZ2xlLXdvcmtvcmRlci1kZWxldGUnLCB0cnVlLCBwcm9wcy53b3Jrb3JkZXJJZCk7CiAgICB9OwoKICAgIHZhciBkZWxldGVXb3Jrb3JkZXJIYW5kbGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gbXV0YXRlKHsKICAgICAgICAgICAgICAgICAgd29ya29yZGVySWQ6IE51bWJlcihwcm9wcy53b3Jrb3JkZXJJZCkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hQcm9qZWN0V29ya29yZGVycygpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgbXV0YXRpb25zLnNldFByb2plY3QoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcm9qZWN0LnZhbHVlKSwge30sIHsKICAgICAgICAgICAgICAgICAgICB3b3Jrb3JkZXJzOiByZXMuZGF0YS5nZXRQcm9qZWN0V29ya29yZGVycwogICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZXZlbnRCdXMuJGVtaXQoJ3RvZ2dsZS13b3Jrb3JkZXItZGVsZXRlJywgZmFsc2UpOwogICAgICAgICAgICAgICAgZXZlbnRCdXMuJGVtaXQoJ3RvZ2dsZS13b3Jrb3JkZXItZGV0YWlscycsIGZhbHNlKTsKICAgICAgICAgICAgICAgIGV2ZW50QnVzLiRlbWl0KCd0b2dnbGUtd29ya29yZGVyLXNlYXJjaCcsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICBpZiAocm9vdC4kcm91dGUubmFtZSAhPSAnYm9hcmQnKSB7CiAgICAgICAgICAgICAgICAgIHJvb3QuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnYm9hcmQnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlbGV0ZVdvcmtvcmRlckhhbmRsZXIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CiAgICAvKiAtLS0tLS0tLSBEZWxldGUgQ29tbWVudCAtLS0tLS0tLSAqLwoKCiAgICB2YXIgX3VzZU11dGF0aW9uMyA9IHVzZU11dGF0aW9uKGRlbGV0ZUNvbW1lbnQpLAogICAgICAgIGRlbGV0ZU11dGF0aW9uID0gX3VzZU11dGF0aW9uMy5tdXRhdGU7CgogICAgdmFyIHRyaWdnZUNvbW1lbnREZWxldGUgPSBmdW5jdGlvbiB0cmlnZ2VDb21tZW50RGVsZXRlKGlkKSB7CiAgICAgIGV2ZW50QnVzLiRlbWl0KCd0b2dnbGUtY29tbWVudC1kZWxldGUnLCB0cnVlLCBpZCk7CiAgICB9OwoKICAgIHZhciBkZWxldGVDb21tZW50SGFuZGxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmNSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoaWQpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZU11dGF0aW9uKHsKICAgICAgICAgICAgICAgICAgY29tbWVudElkOiAiIi5jb25jYXQoaWQpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlZmV0Y2hXb3Jrb3JkZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgZXZlbnRCdXMuJGVtaXQoJ3RvZ2dsZS1jb21tZW50LWRlbGV0ZScsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlbGV0ZUNvbW1lbnRIYW5kbGVyKF94MikgewogICAgICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIGV2ZW50QnVzLiRvbignY29uZmlybS13b3Jrb3JkZXItZGVsZXRlJywgZGVsZXRlV29ya29yZGVySGFuZGxlcik7CiAgICBldmVudEJ1cy4kb24oJ2NvbmZpcm0tY29tbWVudC1kZWxldGUnLCBkZWxldGVDb21tZW50SGFuZGxlcik7CiAgICBvblVubW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGV2ZW50QnVzLiRvZmYoJ2NvbmZpcm0td29ya29yZGVyLWRlbGV0ZScsIGRlbGV0ZVdvcmtvcmRlckhhbmRsZXIpOwogICAgICBldmVudEJ1cy4kb2ZmKCdjb25maXJtLWNvbW1lbnQtZGVsZXRlJywgZGVsZXRlQ29tbWVudEhhbmRsZXIpOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50VXNlcjogY3VycmVudFVzZXIsCiAgICAgIHByb2plY3Q6IHByb2plY3QsCiAgICAgIGxvYWRpbmc6IGxvYWRpbmcsCiAgICAgIHJlZmV0Y2hXb3Jrb3JkZXI6IHJlZmV0Y2hXb3Jrb3JkZXIsCiAgICAgIFdvcmtvcmRlclN0YXR1czogV29ya29yZGVyU3RhdHVzLAogICAgICB3b3Jrb3JkZXJDb3B5OiB3b3Jrb3JkZXJDb3B5LAogICAgICBoYW5kbGVVcGRhdGVXb3Jrb3JkZXI6IGhhbmRsZVVwZGF0ZVdvcmtvcmRlciwKICAgICAgY29weVdvcmtvcmRlckxpbms6IGNvcHlXb3Jrb3JkZXJMaW5rLAogICAgICBnb0Z1bGxTY3JlZW46IGdvRnVsbFNjcmVlbiwKICAgICAgdHJpZ2dlcldvcmtvcmRlckRlbGV0ZTogdHJpZ2dlcldvcmtvcmRlckRlbGV0ZSwKICAgICAgdHJpZ2dlQ29tbWVudERlbGV0ZTogdHJpZ2dlQ29tbWVudERlbGV0ZSwKICAgICAgY29tbWVudHNTb3J0ZWQ6IGNvbW1lbnRzU29ydGVkLAogICAgICBpc0RlbGV0ZUNvbmZpcm1PcGVuOiBpc0RlbGV0ZUNvbmZpcm1PcGVuLAogICAgICBmb3JtYXREYXRlVGltZUNvbnZlcnNhdGlvbmFsOiBmb3JtYXREYXRlVGltZUNvbnZlcnNhdGlvbmFsCiAgICB9OwogIH0KfSk7"},{"version":3,"sources":["/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Workorder/WorkorderDetails/WorkorderDetails.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {\n  defineComponent,\n  ref,\n  computed,\n  onUnmounted\n} from '@vue/composition-api'\nimport { useClipboard } from '@/hooks/useClipboard'\nimport { Workorder } from '@/types/workorder'\nimport { useQuery, useMutation } from '@vue/apollo-composable'\nimport {\n  getWorkorderWithUsersAndComments,\n  deleteWorkorder,\n  getProjectWorkorders,\n  updateWorkorderMutation\n} from '@/graphql/queries/workorder'\nimport WorkorderLoader from '@/components/Project/WorkorderLoader.vue'\nimport Comment from './Comment.vue'\nimport WorkorderDescription from './Description.vue'\nimport WorkorderTitle from './Title.vue'\nimport WorkorderType from './Type.vue'\nimport WorkorderStatus from './Status.vue'\nimport WorkorderAssigneesReporter from './AssigneesReporter.vue'\nimport WorkorderPriority from './Priority.vue'\nimport { formatDateTimeConversational } from '@/utils/date'\nimport { getters, mutations } from '@/store'\nimport eventBus from '@/utils/eventBus'\nimport { deleteComment } from '@/graphql/queries/comment'\nimport { updateArrayItemById } from '../../../../utils/dnd'\n\nconst sortByNewest = (items: any[] = [], sortField: string) =>\n  items.sort((a, b) => -a[sortField].localeCompare(b[sortField]))\n\nexport default defineComponent({\n  components: {\n    WorkorderLoader,\n    Comment,\n    WorkorderDescription,\n    WorkorderTitle,\n    WorkorderType,\n    WorkorderStatus,\n    WorkorderAssigneesReporter,\n    WorkorderPriority\n  },\n  props: {\n    workorderId: {\n      type: [String, Number],\n      required: true\n    },\n    withCloseButton: {\n      type: Boolean,\n      default: true\n    },\n    withFullScreenButton: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup(props, { root, emit }) {\n    const workorderCopy = ref<Workorder>(null)\n    const project = computed(getters.project)\n    const currentUser = computed(getters.currentUser)\n\n    const { onResult, loading, refetch: refetchWorkorder } = useQuery<{\n      getWorkorderWithUsersAndComments: Workorder\n    }>(getWorkorderWithUsersAndComments, {\n      id: Number(props.workorderId)\n    })\n\n    onResult(res => {\n      if (res && res.data && !res.loading) {\n        workorderCopy.value = res.data.getWorkorderWithUsersAndComments\n      }\n    })\n\n    const commentsSorted = computed(() => {\n      if (!workorderCopy.value) {\n        return []\n      }\n      return sortByNewest(workorderCopy.value.comments, 'createdAt')\n    })\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const [_, setClipboard] = useClipboard()\n\n    const copyWorkorderLink = async () => {\n      const path =\n        window.location.origin +\n        root.$router.resolve({\n          name: 'workorder',\n          params: { workorderId: `${props.workorderId}` }\n        }).href\n\n      await setClipboard(path)\n    }\n\n    const goFullScreen = () => {\n      root.$router.push({\n        name: 'workorder',\n        params: { workorderId: `${props.workorderId}` }\n      })\n      emit('close')\n    }\n\n    const { mutate: mutateWorkorder } = useMutation<{\n      updateWorkorder: Workorder\n    }>(updateWorkorderMutation)\n\n    const handleUpdateWorkorder = async (fields: Partial<Workorder>) => {\n      workorderCopy.value = { ...workorderCopy.value, ...fields } as Workorder\n\n      mutations.setProject({\n        ...project.value,\n        workorders: updateArrayItemById(\n          project.value.workorders,\n          props.workorderId as string,\n          fields\n        )\n      })\n      await mutateWorkorder({\n        workorderId: Number(props.workorderId),\n        workorder: { ...fields }\n      } as any)\n      await refetchWorkorder()\n    }\n\n    const { mutate } = useMutation<{ deleteWorkorder: boolean }>(\n      deleteWorkorder\n    )\n    const { refetch: fetchProjectWorkorders } = useQuery<{\n      getProjectWorkorders: Workorder[]\n    }>(getProjectWorkorders)\n\n    /* -------- Delete Workorder -------- */\n\n    const isDeleteConfirmOpen = ref<boolean>(false)\n    const triggerWorkorderDelete = () => {\n      eventBus.$emit('toggle-workorder-delete', true, props.workorderId)\n    }\n\n    const deleteWorkorderHandler = async () => {\n      await mutate({ workorderId: Number(props.workorderId) } as any)\n      const res = await fetchProjectWorkorders()\n      if (res.data) {\n        mutations.setProject({\n          ...project.value,\n          workorders: res.data.getProjectWorkorders\n        })\n      }\n      eventBus.$emit('toggle-workorder-delete', false)\n      eventBus.$emit('toggle-workorder-details', false)\n      eventBus.$emit('toggle-workorder-search', false)\n      if (root.$route.name != 'board') {\n        root.$router.replace({ name: 'board' })\n      }\n    }\n\n    /* -------- Delete Comment -------- */\n\n    const { mutate: deleteMutation } = useMutation(deleteComment)\n\n    const triggeCommentDelete = (id: string | number) => {\n      eventBus.$emit('toggle-comment-delete', true, id)\n    }\n\n    const deleteCommentHandler = async (id: string | number) => {\n      await deleteMutation({ commentId: `${id}` } as any)\n      await refetchWorkorder()\n      eventBus.$emit('toggle-comment-delete', false)\n    }\n\n    eventBus.$on('confirm-workorder-delete', deleteWorkorderHandler)\n\n    eventBus.$on('confirm-comment-delete', deleteCommentHandler)\n\n    onUnmounted(() => {\n      eventBus.$off('confirm-workorder-delete', deleteWorkorderHandler)\n      eventBus.$off('confirm-comment-delete', deleteCommentHandler)\n    })\n\n    return {\n      currentUser,\n      project,\n      loading,\n      refetchWorkorder,\n      WorkorderStatus,\n      workorderCopy,\n      handleUpdateWorkorder,\n      copyWorkorderLink,\n      goFullScreen,\n      triggerWorkorderDelete,\n      triggeCommentDelete,\n      commentsSorted,\n      isDeleteConfirmOpen,\n      formatDateTimeConversational\n    }\n  }\n})\n"],"sourceRoot":""}]}