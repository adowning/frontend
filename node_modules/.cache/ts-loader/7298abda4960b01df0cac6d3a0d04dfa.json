{"remainingRequest":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js!/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js??ref--14-2!/home/ash/Documents/cloudrun/second/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/ash/Documents/cloudrun/second/frontend/src/graphql/queries/auth.ts","dependencies":[{"path":"/home/ash/Documents/cloudrun/second/frontend/src/graphql/queries/auth.ts","mtime":1601932087349},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2FzaC9Eb2N1bWVudHMvY2xvdWRydW4vc2Vjb25kL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL2hvbWUvYXNoL0RvY3VtZW50cy9jbG91ZHJ1bi9zZWNvbmQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QyKCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICBxdWVyeSBjdXJyZW50VXNlciB7XG4gICAgY3VycmVudFVzZXIge1xuICAgICAgaWRcbiAgICAgIG5hbWVcbiAgICAgIGF2YXRhclVybFxuICAgIH1cbiAgfVxuIl0pOwoKICBfdGVtcGxhdGVPYmplY3QyID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MigpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIHF1ZXJ5IGNyZWF0ZUd1ZXN0QWNjb3VudCB7XG4gICAgY3JlYXRlR3Vlc3RBY2NvdW50XG4gIH1cbiJdKTsKCiAgX3RlbXBsYXRlT2JqZWN0ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCmltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnOwppbXBvcnQgeyBhcG9sbG9DbGllbnQgfSBmcm9tICcuLi9jbGllbnQnOwpleHBvcnQgdmFyIGNyZWF0ZUd1ZXN0QWNjb3VudCA9IGdxbChfdGVtcGxhdGVPYmplY3QoKSk7CmV4cG9ydCB2YXIgY3VycmVudFVzZXIgPSBncWwoX3RlbXBsYXRlT2JqZWN0MigpKTsKZXhwb3J0IHZhciBmZXRjaE1lID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgIHZhciByZXM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGFwb2xsb0NsaWVudC5xdWVyeSh7CiAgICAgICAgICAgICAgcXVlcnk6IGN1cnJlbnRVc2VyCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlcy5kYXRhLmN1cnJlbnRVc2VyKSk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQudDApKTsKCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgN11dKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiBmZXRjaE1lKCkgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7"},{"version":3,"sources":["/home/ash/Documents/cloudrun/second/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/ash/Documents/cloudrun/second/frontend/src/graphql/queries/auth.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,GAAP,MAAgB,aAAhB;AACA,SAAS,YAAT,QAA6B,WAA7B;AAGA,OAAO,IAAM,kBAAkB,GAAG,GAAH,mBAAxB;AAMP,OAAO,IAAM,WAAW,GAAG,GAAH,oBAAjB;AAUP,OAAO,IAAM,OAAO;AAAA,qEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAED,YAAY,CAAC,KAAb,CAA0C;AAC1D,cAAA,KAAK,EAAE;AADmD,aAA1C,CAFC;;AAAA;AAEb,YAAA,GAFa;AAAA,6CAKZ,OAAO,CAAC,OAAR,CAAgB,GAAG,CAAC,IAAJ,CAAS,WAAzB,CALY;;AAAA;AAAA;AAAA;AAAA,6CAOZ,OAAO,CAAC,MAAR,aAPY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAP,OAAO;AAAA;AAAA;AAAA,GAAb","sourcesContent":["import gql from 'graphql-tag'\nimport { apolloClient } from '../client'\nimport { User } from '@/types/user'\n\nexport const createGuestAccount = gql`\n  query createGuestAccount {\n    createGuestAccount\n  }\n`\n\nexport const currentUser = gql`\n  query currentUser {\n    currentUser {\n      id\n      name\n      avatarUrl\n    }\n  }\n`\n\nexport const fetchMe = async (): Promise<User> => {\n  try {\n    const res = await apolloClient.query<{ currentUser: User }>({\n      query: currentUser\n    })\n    return Promise.resolve(res.data.currentUser)\n  } catch (error) {\n    return Promise.reject(error)\n  }\n}\n"],"sourceRoot":""}]}