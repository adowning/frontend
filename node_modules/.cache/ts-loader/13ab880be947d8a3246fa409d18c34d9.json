{"remainingRequest":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js!/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js??ref--14-2!/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Filters.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Filters.vue","mtime":1601934216113},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvYXNoL0RvY3VtZW50cy9jbG91ZHJ1bi9zZWNvbmQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeG9yIGZyb20gJ2xvZGFzaC54b3InOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIGNvbXB1dGVkLCByZWYgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCB7IGdldHRlcnMgfSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICd0aHJvdHRsZS1kZWJvdW5jZSc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgZW1pdCA9IF9yZWYuZW1pdDsKICAgIHZhciBwcm9qZWN0RmlsdGVycyA9IGNvbXB1dGVkKGdldHRlcnMuZmlsdGVycyk7CiAgICB2YXIgcHJvamVjdCA9IGNvbXB1dGVkKGdldHRlcnMucHJvamVjdCk7CiAgICB2YXIgZmlsdGVycyA9IHJlZihwcm9qZWN0RmlsdGVycy52YWx1ZSB8fCB7fSk7CgogICAgdmFyIG5ld0ZpbHRlciA9IGZ1bmN0aW9uIG5ld0ZpbHRlcihmaWx0ZXIpIHsKICAgICAgZmlsdGVycy52YWx1ZSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZmlsdGVycy52YWx1ZSksIGZpbHRlcik7CiAgICAgIGVtaXQoJ2NoYW5nZScsIGZpbHRlcnMudmFsdWUpOwogICAgfTsKCiAgICB2YXIgaGFuZGxlSW5wdXQgPSBkZWJvdW5jZSg1MDAsIGZ1bmN0aW9uIChuZXdWYWx1ZSkgewogICAgICBuZXdGaWx0ZXIoewogICAgICAgIHNlYXJjaFRlcm06IG5ld1ZhbHVlCiAgICAgIH0pOwogICAgfSk7CgogICAgdmFyIGhhbmRsZVVzZXIgPSBmdW5jdGlvbiBoYW5kbGVVc2VyKGlkKSB7CiAgICAgIHJldHVybiBuZXdGaWx0ZXIoewogICAgICAgIHVzZXJJZHM6IHhvcihwcm9qZWN0RmlsdGVycy52YWx1ZS51c2VySWRzLCBbaWRdKQogICAgICB9KTsKICAgIH07CgogICAgdmFyIGhhbmRsZU9ubHlNZSA9IGZ1bmN0aW9uIGhhbmRsZU9ubHlNZSgpIHsKICAgICAgcmV0dXJuIG5ld0ZpbHRlcih7CiAgICAgICAgbXlPbmx5OiAhcHJvamVjdEZpbHRlcnMudmFsdWUubXlPbmx5CiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgaGFuZGxlUmVjZW50ID0gZnVuY3Rpb24gaGFuZGxlUmVjZW50KCkgewogICAgICByZXR1cm4gbmV3RmlsdGVyKHsKICAgICAgICByZWNlbnQ6ICFwcm9qZWN0RmlsdGVycy52YWx1ZS5yZWNlbnQKICAgICAgfSk7CiAgICB9OwoKICAgIHZhciBoYW5kbGVSZXNldCA9IGZ1bmN0aW9uIGhhbmRsZVJlc2V0KCkgewogICAgICByZXR1cm4gbmV3RmlsdGVyKHsKICAgICAgICBzZWFyY2hUZXJtOiAnJywKICAgICAgICB1c2VySWRzOiBbXSwKICAgICAgICBteU9ubHk6IGZhbHNlLAogICAgICAgIHJlY2VudDogZmFsc2UKICAgICAgfSk7CiAgICB9OwoKICAgIHZhciBhcmVGaWx0ZXJzQ2xlYXJlZCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICFwcm9qZWN0RmlsdGVycy52YWx1ZS5zZWFyY2hUZXJtICYmIHByb2plY3RGaWx0ZXJzLnZhbHVlLnVzZXJJZHMubGVuZ3RoID09PSAwICYmICFwcm9qZWN0RmlsdGVycy52YWx1ZS5teU9ubHkgJiYgIXByb2plY3RGaWx0ZXJzLnZhbHVlLnJlY2VudDsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgcHJvamVjdDogcHJvamVjdCwKICAgICAgcHJvamVjdEZpbHRlcnM6IHByb2plY3RGaWx0ZXJzLAogICAgICBoYW5kbGVJbnB1dDogaGFuZGxlSW5wdXQsCiAgICAgIGhhbmRsZVVzZXI6IGhhbmRsZVVzZXIsCiAgICAgIGhhbmRsZU9ubHlNZTogaGFuZGxlT25seU1lLAogICAgICBoYW5kbGVSZWNlbnQ6IGhhbmRsZVJlY2VudCwKICAgICAgaGFuZGxlUmVzZXQ6IGhhbmRsZVJlc2V0LAogICAgICBhcmVGaWx0ZXJzQ2xlYXJlZDogYXJlRmlsdGVyc0NsZWFyZWQsCiAgICAgIHhvcjogeG9yCiAgICB9OwogIH0KfSk7"},{"version":3,"sources":["/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Filters.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";AAkDA,OAAO,GAAP,MAAgB,YAAhB;AACA,SAAS,eAAT,EAA0B,QAA1B,EAAoC,GAApC,QAA+C,sBAA/C;AACA,SAAS,OAAT,QAAwB,SAAxB;AAEA,SAAS,QAAT,QAAyB,mBAAzB;AACA,eAAe,eAAe,CAAC;AAC7B,EAAA,KAD6B,iBACvB,KADuB,QACR;AAAA,QAAN,IAAM,QAAN,IAAM;AACnB,QAAM,cAAc,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAT,CAA/B;AACA,QAAM,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAT,CAAxB;AAEA,QAAM,OAAO,GAAG,GAAG,CAAU,cAAc,CAAC,KAAf,IAAwB,EAAlC,CAAnB;;AAEA,QAAM,SAAS,GAAG,SAAZ,SAAY,CAAC,MAAD,EAAwC;AACxD,MAAA,OAAO,CAAC,KAAR,mCAAqB,OAAO,CAAC,KAA7B,GAAuC,MAAvC;AACA,MAAA,IAAI,CAAC,QAAD,EAAW,OAAO,CAAC,KAAnB,CAAJ;AACD,KAHD;;AAKA,QAAM,WAAW,GAAG,QAAQ,CAAC,GAAD,EAAM,UAAC,QAAD,EAAqB;AACrD,MAAA,SAAS,CAAC;AAAE,QAAA,UAAU,EAAE;AAAd,OAAD,CAAT;AACD,KAF2B,CAA5B;;AAIA,QAAM,UAAU,GAAG,SAAb,UAAa,CAAC,EAAD;AAAA,aACjB,SAAS,CAAC;AAAE,QAAA,OAAO,EAAE,GAAG,CAAC,cAAc,CAAC,KAAf,CAAqB,OAAtB,EAA+B,CAAC,EAAD,CAA/B;AAAd,OAAD,CADQ;AAAA,KAAnB;;AAGA,QAAM,YAAY,GAAG,SAAf,YAAe;AAAA,aACnB,SAAS,CAAC;AAAE,QAAA,MAAM,EAAE,CAAC,cAAc,CAAC,KAAf,CAAqB;AAAhC,OAAD,CADU;AAAA,KAArB;;AAEA,QAAM,YAAY,GAAG,SAAf,YAAe;AAAA,aACnB,SAAS,CAAC;AAAE,QAAA,MAAM,EAAE,CAAC,cAAc,CAAC,KAAf,CAAqB;AAAhC,OAAD,CADU;AAAA,KAArB;;AAGA,QAAM,WAAW,GAAG,SAAd,WAAc;AAAA,aAClB,SAAS,CAAC;AACR,QAAA,UAAU,EAAE,EADJ;AAER,QAAA,OAAO,EAAE,EAFD;AAGR,QAAA,MAAM,EAAE,KAHA;AAIR,QAAA,MAAM,EAAE;AAJA,OAAD,CADS;AAAA,KAApB;;AAQA,QAAM,iBAAiB,GAAG,QAAQ,CAAC,YAAK;AACtC,aACE,CAAC,cAAc,CAAC,KAAf,CAAqB,UAAtB,IACA,cAAc,CAAC,KAAf,CAAqB,OAArB,CAA6B,MAA7B,KAAwC,CADxC,IAEA,CAAC,cAAc,CAAC,KAAf,CAAqB,MAFtB,IAGA,CAAC,cAAc,CAAC,KAAf,CAAqB,MAJxB;AAMD,KAPiC,CAAlC;AASA,WAAO;AACL,MAAA,OAAO,EAAP,OADK;AAEL,MAAA,cAAc,EAAd,cAFK;AAGL,MAAA,WAAW,EAAX,WAHK;AAIL,MAAA,UAAU,EAAV,UAJK;AAKL,MAAA,YAAY,EAAZ,YALK;AAML,MAAA,YAAY,EAAZ,YANK;AAOL,MAAA,WAAW,EAAX,WAPK;AAQL,MAAA,iBAAiB,EAAjB,iBARK;AASL,MAAA,GAAG,EAAH;AATK,KAAP;AAWD;AApD4B,CAAD,CAA9B","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport xor from 'lodash.xor'\nimport { defineComponent, computed, ref } from '@vue/composition-api'\nimport { getters } from '@/store'\nimport { Filters } from '@/types/filters'\nimport { debounce } from 'throttle-debounce'\nexport default defineComponent({\n  setup(props, { emit }) {\n    const projectFilters = computed(getters.filters)\n    const project = computed(getters.project)\n\n    const filters = ref<Filters>(projectFilters.value || {})\n\n    const newFilter = (filter: Partial<Filters> | Function) => {\n      filters.value = { ...filters.value, ...filter }\n      emit('change', filters.value)\n    }\n\n    const handleInput = debounce(500, (newValue: string) => {\n      newFilter({ searchTerm: newValue })\n    })\n\n    const handleUser = (id: string) =>\n      newFilter({ userIds: xor(projectFilters.value.userIds, [id]) })\n\n    const handleOnlyMe = () =>\n      newFilter({ myOnly: !projectFilters.value.myOnly })\n    const handleRecent = () =>\n      newFilter({ recent: !projectFilters.value.recent })\n\n    const handleReset = () =>\n      newFilter({\n        searchTerm: '',\n        userIds: [],\n        myOnly: false,\n        recent: false\n      })\n\n    const areFiltersCleared = computed(() => {\n      return (\n        !projectFilters.value.searchTerm &&\n        projectFilters.value.userIds.length === 0 &&\n        !projectFilters.value.myOnly &&\n        !projectFilters.value.recent\n      )\n    })\n\n    return {\n      project,\n      projectFilters,\n      handleInput,\n      handleUser,\n      handleOnlyMe,\n      handleRecent,\n      handleReset,\n      areFiltersCleared,\n      xor\n    }\n  }\n})\n"],"sourceRoot":""}]}