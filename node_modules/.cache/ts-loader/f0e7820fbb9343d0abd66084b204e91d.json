{"remainingRequest":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js!/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js??ref--14-2!/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Workorder/WorkorderDetails/Comment.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Workorder/WorkorderDetails/Comment.vue","mtime":1601934218213},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvYXNoL0RvY3VtZW50cy9jbG91ZHJ1bi9zZWNvbmQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIGNvbXB1dGVkLCByZWYgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCB7IGZvcm1hdERhdGVUaW1lQ29udmVyc2F0aW9uYWwgfSBmcm9tICdAL3V0aWxzL2RhdGUnOwppbXBvcnQgeyB1c2VNdXRhdGlvbiB9IGZyb20gJ0B2dWUvYXBvbGxvLWNvbXBvc2FibGUnOwppbXBvcnQgeyBjcmVhdGVDb21tZW50LCB1cGRhdGVDb21tZW50IH0gZnJvbSAnQC9ncmFwaHFsL3F1ZXJpZXMvY29tbWVudCc7CmltcG9ydCB7IGdldHRlcnMgfSBmcm9tICdAL3N0b3JlJzsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBwcm9wczogewogICAgY29tbWVudDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaXNDcmVhdGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICByZWZldGNod29ya29yZGVyOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCwKICAgICAgICBlbWl0ID0gX3JlZi5lbWl0OwogICAgdmFyIGN1cnJlbnRVc2VyID0gY29tcHV0ZWQoZ2V0dGVycy5jdXJyZW50VXNlcik7CiAgICB2YXIgbmV3Q29tbWVudCA9IHJlZihwcm9wcy5pc0NyZWF0ZSA/ICcnIDogcHJvcHMuY29tbWVudC5ib2R5KTsKICAgIHZhciBpc1dvcmtpbmcgPSByZWYoZmFsc2UpOwogICAgdmFyIGlzRm9ybU9wZW4gPSByZWYoZmFsc2UpOwogICAgdmFyIGlzQ29tbWVudERlbGV0ZUNvbmZpcm1PcGVuID0gcmVmKGZhbHNlKTsKICAgIHZhciByZWFkT25seSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyLnZhbHVlLmlkICE9IHByb3BzLmNvbW1lbnQudXNlcklkOwogICAgfSk7CgogICAgdmFyIF91c2VNdXRhdGlvbiA9IHVzZU11dGF0aW9uKGNyZWF0ZUNvbW1lbnQpLAogICAgICAgIGNyZWF0ZU11dGF0aW9uID0gX3VzZU11dGF0aW9uLm11dGF0ZTsKCiAgICB2YXIgX3VzZU11dGF0aW9uMiA9IHVzZU11dGF0aW9uKHVwZGF0ZUNvbW1lbnQpLAogICAgICAgIHVwZGF0ZU11dGF0aW9uID0gX3VzZU11dGF0aW9uMi5tdXRhdGU7CgogICAgdmFyIGhhbmRsZUNvbW1lbnRDcmVhdGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1lbnQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCFpc1dvcmtpbmcudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIGlzV29ya2luZy52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBjb21tZW50ID0gewogICAgICAgICAgICAgICAgICBib2R5OiBuZXdDb21tZW50LnZhbHVlLAogICAgICAgICAgICAgICAgICB3b3Jrb3JkZXJJZDogcHJvcHMuY29tbWVudC53b3Jrb3JkZXJJZCwKICAgICAgICAgICAgICAgICAgdXNlcklkOiBwcm9wcy5jb21tZW50LnVzZXIuaWQKICAgICAgICAgICAgICAgIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU11dGF0aW9uKHsKICAgICAgICAgICAgICAgICAgY29tbWVudDogY29tbWVudAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzLnJlZmV0Y2h3b3Jrb3JkZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgbmV3Q29tbWVudC52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgaXNGb3JtT3Blbi52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgaXNXb3JraW5nLnZhbHVlID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0LnQwKTsgLy8gcm9vdC4kdlRvYXN0aWZ5KCdFcnJvcicsIHsKICAgICAgICAgICAgICAgIC8vICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgIC8vICAgdGltZW91dDogMjUwMAogICAgICAgICAgICAgICAgLy8gfSkKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgMTRdXSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVDb21tZW50Q3JlYXRlKCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBoYW5kbGVDb21tZW50VXBkYXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29tbWVudDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCFpc1dvcmtpbmcudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIGlzV29ya2luZy52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBjb21tZW50ID0gewogICAgICAgICAgICAgICAgICBib2R5OiBuZXdDb21tZW50LnZhbHVlLAogICAgICAgICAgICAgICAgICB3b3Jrb3JkZXJJZDogcHJvcHMuY29tbWVudC53b3Jrb3JkZXJJZCwKICAgICAgICAgICAgICAgICAgdXNlcklkOiBwcm9wcy5jb21tZW50LnVzZXIuaWQKICAgICAgICAgICAgICAgIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVNdXRhdGlvbih7CiAgICAgICAgICAgICAgICAgIGNvbW1lbnQ6IGNvbW1lbnQsCiAgICAgICAgICAgICAgICAgIGNvbW1lbnRJZDogcHJvcHMuY29tbWVudC5pZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBwcm9wcy5yZWZldGNod29ya29yZGVyKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGlzRm9ybU9wZW4udmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGlzV29ya2luZy52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQyLnQwKTsgLy8gcm9vdC4kdG9hc3QoJ0Vycm9yJywgewogICAgICAgICAgICAgICAgLy8gICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgICAgLy8gICB0aW1lb3V0OiAyNTAwCiAgICAgICAgICAgICAgICAvLyB9KQoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDEzXV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlQ29tbWVudFVwZGF0ZSgpIHsKICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICB2YXIgdHJpZ2dlckNvbW1lbnREZWxldGUgPSBmdW5jdGlvbiB0cmlnZ2VyQ29tbWVudERlbGV0ZSgpIHsKICAgICAgZW1pdCgnZGVsZXRlJywgcHJvcHMuY29tbWVudC5pZCk7CiAgICB9OwoKICAgIHZhciBoYW5kbGVTdWJtaXQgPSBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHByb3BzLmlzQ3JlYXRlID8gaGFuZGxlQ29tbWVudENyZWF0ZSgpIDogaGFuZGxlQ29tbWVudFVwZGF0ZSgpOwogICAgfTsKCiAgICB2YXIgaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZSkgewogICAgICBpZiAoZS5rZXlDb2RlID09IDEzICYmICFlLnNoaWZ0S2V5KSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGhhbmRsZVN1Ym1pdCgpOwogICAgICB9CiAgICB9OwoKICAgIHZhciBoYW5kbGVDYW5jZWwgPSBmdW5jdGlvbiBoYW5kbGVDYW5jZWwoKSB7CiAgICAgIGlzRm9ybU9wZW4udmFsdWUgPSBmYWxzZTsKICAgIH07CgogICAgdmFyIGNyZWF0ZWRBdCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGZvcm1hdERhdGVUaW1lQ29udmVyc2F0aW9uYWwocHJvcHMuY29tbWVudC5jcmVhdGVkQXQpOwogICAgfSk7CgogICAgdmFyIGhhbmRsZUZha2VUZXh0YXJlYUNsaWNrZWQgPSBmdW5jdGlvbiBoYW5kbGVGYWtlVGV4dGFyZWFDbGlja2VkKCkgewogICAgICBpZiAocHJvcHMuaXNDcmVhdGUpIHsKICAgICAgICBpc0Zvcm1PcGVuLnZhbHVlID0gdHJ1ZTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBjcmVhdGVkQXQ6IGNyZWF0ZWRBdCwKICAgICAgcmVhZE9ubHk6IHJlYWRPbmx5LAogICAgICBuZXdDb21tZW50OiBuZXdDb21tZW50LAogICAgICBpc1dvcmtpbmc6IGlzV29ya2luZywKICAgICAgaXNDb21tZW50RGVsZXRlQ29uZmlybU9wZW46IGlzQ29tbWVudERlbGV0ZUNvbmZpcm1PcGVuLAogICAgICBpc0Zvcm1PcGVuOiBpc0Zvcm1PcGVuLAogICAgICB0cmlnZ2VyQ29tbWVudERlbGV0ZTogdHJpZ2dlckNvbW1lbnREZWxldGUsCiAgICAgIGhhbmRsZVN1Ym1pdDogaGFuZGxlU3VibWl0LAogICAgICBoYW5kbGVLZXlEb3duOiBoYW5kbGVLZXlEb3duLAogICAgICBoYW5kbGVDYW5jZWw6IGhhbmRsZUNhbmNlbCwKICAgICAgaGFuZGxlRmFrZVRleHRhcmVhQ2xpY2tlZDogaGFuZGxlRmFrZVRleHRhcmVhQ2xpY2tlZCwKICAgICAgaGFuZGxlQ29tbWVudFVwZGF0ZTogaGFuZGxlQ29tbWVudFVwZGF0ZQogICAgfTsKICB9Cn0pOw=="},{"version":3,"sources":["/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Workorder/WorkorderDetails/Comment.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, computed, ref } from '@vue/composition-api'\n\nimport { Comment } from '@/types/comment'\nimport { formatDateTimeConversational } from '@/utils/date'\nimport { useMutation } from '@vue/apollo-composable'\nimport { createComment, updateComment } from '@/graphql/queries/comment'\nimport { getters } from '@/store'\n\nexport default defineComponent({\n  props: {\n    comment: {\n      type: Object as () => Comment,\n      required: true\n    },\n    isCreate: {\n      type: Boolean,\n      default: false\n    },\n    refetchworkorder: {\n      type: Function,\n      required: true\n    }\n  },\n  setup(props, { root, emit }) {\n    const currentUser = computed(getters.currentUser)\n    const newComment = ref<string>(props.isCreate ? '' : props.comment.body)\n    const isWorking = ref<boolean>(false)\n    const isFormOpen = ref<boolean>(false)\n    const isCommentDeleteConfirmOpen = ref<boolean>(false)\n    const readOnly = computed(\n      () => currentUser.value.id != props.comment.userId\n    )\n\n    const { mutate: createMutation } = useMutation(createComment)\n    const { mutate: updateMutation } = useMutation(updateComment)\n\n    const handleCommentCreate = async () => {\n      if (isWorking.value) return\n      try {\n        isWorking.value = true\n        const comment = {\n          body: newComment.value,\n          workorderId: props.comment.workorderId,\n          userId: props.comment.user.id\n        }\n        // eslint-disable-next-line\n        await createMutation({ comment } as any)\n        await props.refetchworkorder()\n        newComment.value = ''\n        isFormOpen.value = false\n        isWorking.value = false\n      } catch (error) {\n        console.error(error)\n        // root.$vToastify('Error', {\n        //   type: 'error',\n        //   timeout: 2500\n        // })\n      }\n    }\n\n    const handleCommentUpdate = async () => {\n      if (isWorking.value) return\n      try {\n        isWorking.value = true\n        const comment = {\n          body: newComment.value,\n          workorderId: props.comment.workorderId,\n          userId: props.comment.user.id\n        }\n        // eslint-disable-next-line\n        await updateMutation({ comment, commentId: props.comment.id } as any)\n        await props.refetchworkorder()\n        isFormOpen.value = false\n        isWorking.value = false\n      } catch (error) {\n        console.error(error)\n        // root.$toast('Error', {\n        //   type: 'error',\n        //   timeout: 2500\n        // })\n      }\n    }\n\n    const triggerCommentDelete = () => {\n      emit('delete', props.comment.id)\n    }\n\n    const handleSubmit = () => {\n      props.isCreate ? handleCommentCreate() : handleCommentUpdate()\n    }\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.keyCode == 13 && !e.shiftKey) {\n        e.preventDefault()\n        handleSubmit()\n      }\n    }\n    const handleCancel = () => {\n      isFormOpen.value = false\n    }\n\n    const createdAt = computed(() =>\n      formatDateTimeConversational(props.comment.createdAt)\n    )\n\n    const handleFakeTextareaClicked = () => {\n      if (props.isCreate) {\n        isFormOpen.value = true\n      }\n    }\n\n    return {\n      createdAt,\n      readOnly,\n      newComment,\n      isWorking,\n      isCommentDeleteConfirmOpen,\n      isFormOpen,\n      triggerCommentDelete,\n      handleSubmit,\n      handleKeyDown,\n      handleCancel,\n      handleFakeTextareaClicked,\n      handleCommentUpdate\n    }\n  }\n})\n"],"sourceRoot":""}]}