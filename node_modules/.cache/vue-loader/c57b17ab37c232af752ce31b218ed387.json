{"remainingRequest":"/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ash/Documents/cloudrun/second/frontend/src/views/Project/Project.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/ash/Documents/cloudrun/second/frontend/src/views/Project/Project.vue","mtime":1601936596017},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYsIGNvbXB1dGVkIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknCmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSAnQHZ1ZS9hcG9sbG8tY29tcG9zYWJsZScKaW1wb3J0IHsgbXV0YXRpb25zIH0gZnJvbSAnQC9zdG9yZScKaW1wb3J0IHsgZ2V0UHJvamVjdFdpdGhVc2Vyc0FuZFdvcmtvcmRlcnMgfSBmcm9tICdAL2dyYXBocWwvcXVlcmllcy9wcm9qZWN0JwppbXBvcnQgTmF2aWdhdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvTmF2aWdhdGlvbi9OYXZpZ2F0aW9uLnZ1ZScKaW1wb3J0IFBhZ2VMb2FkZXIgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRlci52dWUnCmltcG9ydCBFcnJvclBhZ2UgZnJvbSAnQC9jb21wb25lbnRzL0Vycm9yUGFnZS52dWUnCmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgTmF2aWdhdGlvbiwKICAgIFBhZ2VMb2FkZXIsCiAgICBFcnJvclBhZ2UKICB9LAogIHNldHVwKCkgewogICAgY29uc3QgZXhwYW5kZWQgPSByZWY8Ym9vbGVhbj4odHJ1ZSkKICAgIGNvbnN0IGhhbmRsZU5hdmlnYXRpb25SZXNpemUgPSAoaXNFeHBhbmRlZDogYm9vbGVhbikgPT4gewogICAgICBleHBhbmRlZC52YWx1ZSA9IGlzRXhwYW5kZWQKICAgIH0KCiAgICBjb25zdCBnZXRDb250ZW50U3R5bGVzID0gY29tcHV0ZWQoKCkgPT4gKHsKICAgICAgJ3BhZGRpbmctbGVmdCc6IGAke2V4cGFuZGVkLnZhbHVlID8gMjQwIDogMjB9YCArICdweCcsCiAgICAgICdtYXJnaW4tbGVmdCc6ICc2NHB4JwogICAgfSkpCgogICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogMTEwMHB4KScpCiAgICBjb25zdCBtYXRjaEhhbmRsZXIgPSAoZTogTWVkaWFRdWVyeUxpc3RFdmVudEluaXQpID0+CiAgICAgIChleHBhbmRlZC52YWx1ZSA9ICFlLm1hdGNoZXMpCgogICAgbWF0Y2hIYW5kbGVyKG1hdGNoKQogICAgbWF0Y2guYWRkTGlzdGVuZXIobWF0Y2hIYW5kbGVyKQoKICAgIGNvbnN0IHsgbG9hZGluZywgb25SZXN1bHQsIGVycm9yIH0gPSB1c2VRdWVyeSgKICAgICAgZ2V0UHJvamVjdFdpdGhVc2Vyc0FuZFdvcmtvcmRlcnMsCiAgICAgIHt9LAogICAgICB7IGZldGNoUG9saWN5OiAnbm8tY2FjaGUnIH0KICAgICkKCiAgICBvblJlc3VsdChyZXMgPT4gewogICAgICBpZiAocmVzKSB7CiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXMKICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgbXV0YXRpb25zLnNldFByb2plY3QoZGF0YS5nZXRQcm9qZWN0V2l0aFVzZXJzQW5kV29ya29yZGVycykKICAgICAgICB9CiAgICAgIH0KICAgIH0pCgogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZywKICAgICAgZXJyb3IsCiAgICAgIGV4cGFuZGVkLAogICAgICBoYW5kbGVOYXZpZ2F0aW9uUmVzaXplLAogICAgICBnZXRDb250ZW50U3R5bGVzCiAgICB9CiAgfQp9KQo="},{"version":3,"sources":["Project.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Project.vue","sourceRoot":"src/views/Project","sourcesContent":["<template>\n  <div class=\"w-full h-full flex\">\n    <Navigation @onResize=\"handleNavigationResize\" :expanded=\"expanded\" />\n    <div :style=\"getContentStyles\" id=\"content\">\n      <ErrorPage v-if=\"error\" />\n      <PageLoader v-else-if=\"loading\" />\n      <router-view class=\"page\" v-else />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed } from '@vue/composition-api'\nimport { useQuery } from '@vue/apollo-composable'\nimport { mutations } from '@/store'\nimport { getProjectWithUsersAndWorkorders } from '@/graphql/queries/project'\nimport Navigation from '@/components/Navigation/Navigation.vue'\nimport PageLoader from '@/components/Loader.vue'\nimport ErrorPage from '@/components/ErrorPage.vue'\nexport default defineComponent({\n  components: {\n    Navigation,\n    PageLoader,\n    ErrorPage\n  },\n  setup() {\n    const expanded = ref<boolean>(true)\n    const handleNavigationResize = (isExpanded: boolean) => {\n      expanded.value = isExpanded\n    }\n\n    const getContentStyles = computed(() => ({\n      'padding-left': `${expanded.value ? 240 : 20}` + 'px',\n      'margin-left': '64px'\n    }))\n\n    const match = window.matchMedia('(max-width: 1100px)')\n    const matchHandler = (e: MediaQueryListEventInit) =>\n      (expanded.value = !e.matches)\n\n    matchHandler(match)\n    match.addListener(matchHandler)\n\n    const { loading, onResult, error } = useQuery(\n      getProjectWithUsersAndWorkorders,\n      {},\n      { fetchPolicy: 'no-cache' }\n    )\n\n    onResult(res => {\n      if (res) {\n        const { data } = res\n        if (data) {\n          mutations.setProject(data.getProjectWithUsersAndWorkorders)\n        }\n      }\n    })\n\n    return {\n      loading,\n      error,\n      expanded,\n      handleNavigationResize,\n      getContentStyles\n    }\n  }\n})\n</script>\n"]}]}