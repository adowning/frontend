{"remainingRequest":"/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ash/Documents/cloudrun/second/frontend/src/App.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/ash/Documents/cloudrun/second/frontend/src/App.vue","mtime":1601936457169},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgovKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovCmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVmLCBjb21wdXRlZCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJwppbXBvcnQgTmF2aWdhdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvTmF2aWdhdGlvbi9OYXZpZ2F0aW9uLnZ1ZScKaW1wb3J0IFBhZ2VMb2FkZXIgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRlci52dWUnCmltcG9ydCBFcnJvclBhZ2UgZnJvbSAnQC9jb21wb25lbnRzL0Vycm9yUGFnZS52dWUnCmltcG9ydCBNb2RhbHMgZnJvbSAnQC9jb21wb25lbnRzL01vZGFscy9Nb2RhbHMudnVlJwppbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gJ0B2dWUvYXBvbGxvLWNvbXBvc2FibGUnCmltcG9ydCB7IGdldFByb2plY3RXaXRoVXNlcnNBbmRXb3Jrb3JkZXJzIH0gZnJvbSAnQC9ncmFwaHFsL3F1ZXJpZXMvcHJvamVjdCcKaW1wb3J0IHsgbXV0YXRpb25zLCBnZXR0ZXJzIH0gZnJvbSAnLi9zdG9yZScKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBOYXZpZ2F0aW9uLAogICAgUGFnZUxvYWRlciwKICAgIEVycm9yUGFnZSwKICAgIE1vZGFscwogIH0sCiAgc2V0dXAoKSB7CiAgICBjb25zdCBleHBhbmRlZCA9IHJlZjxib29sZWFuPih0cnVlKQogICAgY29uc3QgaGFuZGxlTmF2aWdhdGlvblJlc2l6ZSA9IChpc0V4cGFuZGVkOiBib29sZWFuKSA9PiB7CiAgICAgIGV4cGFuZGVkLnZhbHVlID0gaXNFeHBhbmRlZAogICAgfQoKICAgIGNvbnN0IGlzQXBwUmVhZHkgPSBjb21wdXRlZCgKICAgICAgKCkgPT4KICAgICAgICBnZXR0ZXJzLmlzQXV0aGVudGljYXRlZCgpICYmCiAgICAgICAgT2JqZWN0LmtleXMoZ2V0dGVycy5jdXJyZW50VXNlcigpKS5sZW5ndGggIT09IDAKICAgICkKCiAgICBjb25zdCBnZXRDb250ZW50U3R5bGVzID0gY29tcHV0ZWQoKCkgPT4gKHsKICAgICAgJ3BhZGRpbmctbGVmdCc6IGAke2V4cGFuZGVkLnZhbHVlID8gMjQwIDogMjB9YCArICdweCcsCiAgICAgICdtYXJnaW4tbGVmdCc6ICc2NHB4JwogICAgfSkpCgogICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogMTEwMHB4KScpCiAgICBjb25zdCBtYXRjaEhhbmRsZXIgPSAoZTogTWVkaWFRdWVyeUxpc3RFdmVudEluaXQpID0+CiAgICAgIChleHBhbmRlZC52YWx1ZSA9ICFlLm1hdGNoZXMpCgogICAgbWF0Y2hIYW5kbGVyKG1hdGNoKQogICAgbWF0Y2guYWRkTGlzdGVuZXIobWF0Y2hIYW5kbGVyKQoKICAgIGNvbnN0IHsgbG9hZGluZywgb25SZXN1bHQsIGVycm9yIH0gPSB1c2VRdWVyeSgKICAgICAgZ2V0UHJvamVjdFdpdGhVc2Vyc0FuZFdvcmtvcmRlcnMsCiAgICAgIHt9LAogICAgICB7IGZldGNoUG9saWN5OiAnbm8tY2FjaGUnIH0KICAgICkKCiAgICBvblJlc3VsdChyZXMgPT4gewogICAgICBjb25zdCB7IGRhdGEgfSA9IHJlcyBhcyBhbnkKICAgICAgaWYgKGRhdGEpIHsKICAgICAgICBtdXRhdGlvbnMuc2V0UHJvamVjdChkYXRhLmdldFByb2plY3RXaXRoVXNlcnNBbmR3b3Jrb3JkZXJzKQogICAgICB9CiAgICB9KQoKICAgIHJldHVybiB7CiAgICAgIGlzQXBwUmVhZHksCiAgICAgIGxvYWRpbmcsCiAgICAgIGVycm9yLAogICAgICBleHBhbmRlZCwKICAgICAgaGFuZGxlTmF2aWdhdGlvblJlc2l6ZSwKICAgICAgZ2V0Q29udGVudFN0eWxlcwogICAgfQogIH0KfSkK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"root\">\n    <Modals />\n    <PageLoader v-if=\"!isAppReady\" />\n    <div id=\"app-frame\">\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { defineComponent, ref, computed } from '@vue/composition-api'\nimport Navigation from '@/components/Navigation/Navigation.vue'\nimport PageLoader from '@/components/Loader.vue'\nimport ErrorPage from '@/components/ErrorPage.vue'\nimport Modals from '@/components/Modals/Modals.vue'\nimport { useQuery } from '@vue/apollo-composable'\nimport { getProjectWithUsersAndWorkorders } from '@/graphql/queries/project'\nimport { mutations, getters } from './store'\nexport default defineComponent({\n  components: {\n    Navigation,\n    PageLoader,\n    ErrorPage,\n    Modals\n  },\n  setup() {\n    const expanded = ref<boolean>(true)\n    const handleNavigationResize = (isExpanded: boolean) => {\n      expanded.value = isExpanded\n    }\n\n    const isAppReady = computed(\n      () =>\n        getters.isAuthenticated() &&\n        Object.keys(getters.currentUser()).length !== 0\n    )\n\n    const getContentStyles = computed(() => ({\n      'padding-left': `${expanded.value ? 240 : 20}` + 'px',\n      'margin-left': '64px'\n    }))\n\n    const match = window.matchMedia('(max-width: 1100px)')\n    const matchHandler = (e: MediaQueryListEventInit) =>\n      (expanded.value = !e.matches)\n\n    matchHandler(match)\n    match.addListener(matchHandler)\n\n    const { loading, onResult, error } = useQuery(\n      getProjectWithUsersAndWorkorders,\n      {},\n      { fetchPolicy: 'no-cache' }\n    )\n\n    onResult(res => {\n      const { data } = res as any\n      if (data) {\n        mutations.setProject(data.getProjectWithUsersAndworkorders)\n      }\n    })\n\n    return {\n      isAppReady,\n      loading,\n      error,\n      expanded,\n      handleNavigationResize,\n      getContentStyles\n    }\n  }\n})\n</script>\n"]}]}