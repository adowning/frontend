{"remainingRequest":"/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Filters.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Filters.vue","mtime":1601934216113},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeG9yIGZyb20gJ2xvZGFzaC54b3InCmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgY29tcHV0ZWQsIHJlZiB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJwppbXBvcnQgeyBnZXR0ZXJzIH0gZnJvbSAnQC9zdG9yZScKaW1wb3J0IHsgRmlsdGVycyB9IGZyb20gJ0AvdHlwZXMvZmlsdGVycycKaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICd0aHJvdHRsZS1kZWJvdW5jZScKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBzZXR1cChwcm9wcywgeyBlbWl0IH0pIHsKICAgIGNvbnN0IHByb2plY3RGaWx0ZXJzID0gY29tcHV0ZWQoZ2V0dGVycy5maWx0ZXJzKQogICAgY29uc3QgcHJvamVjdCA9IGNvbXB1dGVkKGdldHRlcnMucHJvamVjdCkKCiAgICBjb25zdCBmaWx0ZXJzID0gcmVmPEZpbHRlcnM+KHByb2plY3RGaWx0ZXJzLnZhbHVlIHx8IHt9KQoKICAgIGNvbnN0IG5ld0ZpbHRlciA9IChmaWx0ZXI6IFBhcnRpYWw8RmlsdGVycz4gfCBGdW5jdGlvbikgPT4gewogICAgICBmaWx0ZXJzLnZhbHVlID0geyAuLi5maWx0ZXJzLnZhbHVlLCAuLi5maWx0ZXIgfQogICAgICBlbWl0KCdjaGFuZ2UnLCBmaWx0ZXJzLnZhbHVlKQogICAgfQoKICAgIGNvbnN0IGhhbmRsZUlucHV0ID0gZGVib3VuY2UoNTAwLCAobmV3VmFsdWU6IHN0cmluZykgPT4gewogICAgICBuZXdGaWx0ZXIoeyBzZWFyY2hUZXJtOiBuZXdWYWx1ZSB9KQogICAgfSkKCiAgICBjb25zdCBoYW5kbGVVc2VyID0gKGlkOiBzdHJpbmcpID0+CiAgICAgIG5ld0ZpbHRlcih7IHVzZXJJZHM6IHhvcihwcm9qZWN0RmlsdGVycy52YWx1ZS51c2VySWRzLCBbaWRdKSB9KQoKICAgIGNvbnN0IGhhbmRsZU9ubHlNZSA9ICgpID0+CiAgICAgIG5ld0ZpbHRlcih7IG15T25seTogIXByb2plY3RGaWx0ZXJzLnZhbHVlLm15T25seSB9KQogICAgY29uc3QgaGFuZGxlUmVjZW50ID0gKCkgPT4KICAgICAgbmV3RmlsdGVyKHsgcmVjZW50OiAhcHJvamVjdEZpbHRlcnMudmFsdWUucmVjZW50IH0pCgogICAgY29uc3QgaGFuZGxlUmVzZXQgPSAoKSA9PgogICAgICBuZXdGaWx0ZXIoewogICAgICAgIHNlYXJjaFRlcm06ICcnLAogICAgICAgIHVzZXJJZHM6IFtdLAogICAgICAgIG15T25seTogZmFsc2UsCiAgICAgICAgcmVjZW50OiBmYWxzZQogICAgICB9KQoKICAgIGNvbnN0IGFyZUZpbHRlcnNDbGVhcmVkID0gY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gKAogICAgICAgICFwcm9qZWN0RmlsdGVycy52YWx1ZS5zZWFyY2hUZXJtICYmCiAgICAgICAgcHJvamVjdEZpbHRlcnMudmFsdWUudXNlcklkcy5sZW5ndGggPT09IDAgJiYKICAgICAgICAhcHJvamVjdEZpbHRlcnMudmFsdWUubXlPbmx5ICYmCiAgICAgICAgIXByb2plY3RGaWx0ZXJzLnZhbHVlLnJlY2VudAogICAgICApCiAgICB9KQoKICAgIHJldHVybiB7CiAgICAgIHByb2plY3QsCiAgICAgIHByb2plY3RGaWx0ZXJzLAogICAgICBoYW5kbGVJbnB1dCwKICAgICAgaGFuZGxlVXNlciwKICAgICAgaGFuZGxlT25seU1lLAogICAgICBoYW5kbGVSZWNlbnQsCiAgICAgIGhhbmRsZVJlc2V0LAogICAgICBhcmVGaWx0ZXJzQ2xlYXJlZCwKICAgICAgeG9yCiAgICB9CiAgfQp9KQo="},{"version":3,"sources":["Filters.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Filters.vue","sourceRoot":"src/components/Project","sourcesContent":["<template>\n  <div class=\"flex items-center mt-6\">\n    <div class=\"mr-4 w-40\">\n      <form autocomplete=\"off\" novalidate>\n        <j-input\n          aria-label=\"search\"\n          icon=\"search\"\n          :value=\"projectFilters.searchTerm\"\n          @input=\"handleInput\"\n        />\n      </form>\n    </div>\n    <!-- Avatars -->\n    <div class=\"flex flex-row mr-3\">\n      <div\n        v-for=\"user in project.users\"\n        :key=\"user.id\"\n        :class=\"{ active: projectFilters.userIds.includes(user.id) }\"\n        class=\"-ml-1 lift flex rounded-full transition-transform duration-100\"\n      >\n        <j-avatar\n          class=\"cursor-pointer select-none shadow-outline-white\"\n          :name=\"user.name\"\n          :size=\"36\"\n          :avatarUrl=\"user.avatarUrl\"\n          @click.native=\"handleUser(user.id)\"\n        />\n      </div>\n    </div>\n    <j-button\n      :isActive=\"projectFilters.myOnly\"\n      variant=\"empty\"\n      @click=\"handleOnlyMe\"\n      >Only My workorders</j-button\n    >\n    <j-button\n      :isActive=\"projectFilters.recent\"\n      class=\"ml-3\"\n      variant=\"empty\"\n      @click=\"handleRecent\"\n      >Recently Updated</j-button\n    >\n    <div class=\"ml-3 flex items-center\" v-if=\"!areFiltersCleared\">\n      <div class=\"mr-3 w-px bg-backgroundMedium self-stretch\"></div>\n      <j-button variant=\"secondary\" @click=\"handleReset\">Clear all</j-button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport xor from 'lodash.xor'\nimport { defineComponent, computed, ref } from '@vue/composition-api'\nimport { getters } from '@/store'\nimport { Filters } from '@/types/filters'\nimport { debounce } from 'throttle-debounce'\nexport default defineComponent({\n  setup(props, { emit }) {\n    const projectFilters = computed(getters.filters)\n    const project = computed(getters.project)\n\n    const filters = ref<Filters>(projectFilters.value || {})\n\n    const newFilter = (filter: Partial<Filters> | Function) => {\n      filters.value = { ...filters.value, ...filter }\n      emit('change', filters.value)\n    }\n\n    const handleInput = debounce(500, (newValue: string) => {\n      newFilter({ searchTerm: newValue })\n    })\n\n    const handleUser = (id: string) =>\n      newFilter({ userIds: xor(projectFilters.value.userIds, [id]) })\n\n    const handleOnlyMe = () =>\n      newFilter({ myOnly: !projectFilters.value.myOnly })\n    const handleRecent = () =>\n      newFilter({ recent: !projectFilters.value.recent })\n\n    const handleReset = () =>\n      newFilter({\n        searchTerm: '',\n        userIds: [],\n        myOnly: false,\n        recent: false\n      })\n\n    const areFiltersCleared = computed(() => {\n      return (\n        !projectFilters.value.searchTerm &&\n        projectFilters.value.userIds.length === 0 &&\n        !projectFilters.value.myOnly &&\n        !projectFilters.value.recent\n      )\n    })\n\n    return {\n      project,\n      projectFilters,\n      handleInput,\n      handleUser,\n      handleOnlyMe,\n      handleRecent,\n      handleReset,\n      areFiltersCleared,\n      xor\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.active {\n  box-shadow: 0 0 0 4px #1255b9;\n}\n.lift:hover {\n  transform: translateY(-5px);\n}\n</style>\n"]}]}