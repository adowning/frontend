{"remainingRequest":"/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Filters.vue?vue&type=style&index=0&id=5305ea65&lang=scss&scoped=true&","dependencies":[{"path":"/home/ash/Documents/cloudrun/second/frontend/src/components/Project/Filters.vue","mtime":1601934216113},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ash/Documents/cloudrun/second/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5hY3RpdmUgewogIGJveC1zaGFkb3c6IDAgMCAwIDRweCAjMTI1NWI5Owp9Ci5saWZ0OmhvdmVyIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7Cn0K"},{"version":3,"sources":["Filters.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;AACA","file":"Filters.vue","sourceRoot":"src/components/Project","sourcesContent":["<template>\n  <div class=\"flex items-center mt-6\">\n    <div class=\"mr-4 w-40\">\n      <form autocomplete=\"off\" novalidate>\n        <j-input\n          aria-label=\"search\"\n          icon=\"search\"\n          :value=\"projectFilters.searchTerm\"\n          @input=\"handleInput\"\n        />\n      </form>\n    </div>\n    <!-- Avatars -->\n    <div class=\"flex flex-row mr-3\">\n      <div\n        v-for=\"user in project.users\"\n        :key=\"user.id\"\n        :class=\"{ active: projectFilters.userIds.includes(user.id) }\"\n        class=\"-ml-1 lift flex rounded-full transition-transform duration-100\"\n      >\n        <j-avatar\n          class=\"cursor-pointer select-none shadow-outline-white\"\n          :name=\"user.name\"\n          :size=\"36\"\n          :avatarUrl=\"user.avatarUrl\"\n          @click.native=\"handleUser(user.id)\"\n        />\n      </div>\n    </div>\n    <j-button\n      :isActive=\"projectFilters.myOnly\"\n      variant=\"empty\"\n      @click=\"handleOnlyMe\"\n      >Only My workorders</j-button\n    >\n    <j-button\n      :isActive=\"projectFilters.recent\"\n      class=\"ml-3\"\n      variant=\"empty\"\n      @click=\"handleRecent\"\n      >Recently Updated</j-button\n    >\n    <div class=\"ml-3 flex items-center\" v-if=\"!areFiltersCleared\">\n      <div class=\"mr-3 w-px bg-backgroundMedium self-stretch\"></div>\n      <j-button variant=\"secondary\" @click=\"handleReset\">Clear all</j-button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport xor from 'lodash.xor'\nimport { defineComponent, computed, ref } from '@vue/composition-api'\nimport { getters } from '@/store'\nimport { Filters } from '@/types/filters'\nimport { debounce } from 'throttle-debounce'\nexport default defineComponent({\n  setup(props, { emit }) {\n    const projectFilters = computed(getters.filters)\n    const project = computed(getters.project)\n\n    const filters = ref<Filters>(projectFilters.value || {})\n\n    const newFilter = (filter: Partial<Filters> | Function) => {\n      filters.value = { ...filters.value, ...filter }\n      emit('change', filters.value)\n    }\n\n    const handleInput = debounce(500, (newValue: string) => {\n      newFilter({ searchTerm: newValue })\n    })\n\n    const handleUser = (id: string) =>\n      newFilter({ userIds: xor(projectFilters.value.userIds, [id]) })\n\n    const handleOnlyMe = () =>\n      newFilter({ myOnly: !projectFilters.value.myOnly })\n    const handleRecent = () =>\n      newFilter({ recent: !projectFilters.value.recent })\n\n    const handleReset = () =>\n      newFilter({\n        searchTerm: '',\n        userIds: [],\n        myOnly: false,\n        recent: false\n      })\n\n    const areFiltersCleared = computed(() => {\n      return (\n        !projectFilters.value.searchTerm &&\n        projectFilters.value.userIds.length === 0 &&\n        !projectFilters.value.myOnly &&\n        !projectFilters.value.recent\n      )\n    })\n\n    return {\n      project,\n      projectFilters,\n      handleInput,\n      handleUser,\n      handleOnlyMe,\n      handleRecent,\n      handleReset,\n      areFiltersCleared,\n      xor\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.active {\n  box-shadow: 0 0 0 4px #1255b9;\n}\n.lift:hover {\n  transform: translateY(-5px);\n}\n</style>\n"]}]}